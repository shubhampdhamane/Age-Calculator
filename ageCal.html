<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Date Difference Calculator</title>

    <!-- Bootstrap CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: linear-gradient(135deg, #6dd5ed, #2193b0);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .card {
            border-radius: 14px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
        }
        h2 {
            font-weight: 700;
        }
        .result-box {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
        }
    </style>
</head>
<body>

<div class="container">
    <div class="col-md-6 offset-md-3">
        <div class="card p-4">
            <h2 class="text-center mb-4">üìÖ Date Difference Calculator</h2>

            <div class="mb-3">
                <label class="form-label">Select First Date</label>
                <input type="date" id="date1" class="form-control">
            </div>

            <div class="form-check form-switch mb-3">
                <input class="form-check-input" type="checkbox" id="useToday">
                <label class="form-check-label">Calculate with Today's Date</label>
            </div>

            <div class="mb-3">
                <label class="form-label">Select Second Date</label>
                <input type="date" id="date2" class="form-control">
            </div>

            <button class="btn btn-primary w-100" onclick="calculateDiff()">Calculate</button>

            <div class="result-box mt-4">
                <h5>Result:</h5>
                <p id="output" class="mb-0 fw-bold text-dark"></p>
            </div>
        </div>
    </div>
</div>

<script>
    const date2 = document.getElementById("date2");
    const useToday = document.getElementById("useToday");

    // Disable / enable second date based on switch
    useToday.addEventListener("change", () => {
        if (useToday.checked) {
            date2.disabled = true;
            date2.value = "";
        } else {
            date2.disabled = false;
        }
    });

    function calculateDiff() {
        const d1 = new Date(document.getElementById("date1").value);
        let d2 = useToday.checked ? new Date() : new Date(date2.value);

        if (!document.getElementById("date1").value || (!useToday.checked && !date2.value)) {
            document.getElementById("output").innerHTML = "‚ö†Ô∏è Please select required dates.";
            return;
        }

        if (d2 < d1) {
            document.getElementById("output").innerHTML = "‚ö†Ô∏è Second date must be greater than first date.";
            return;
        }

        // Total days difference
        let totalDays = Math.floor((d2 - d1) / (1000 * 60 * 60 * 24));

        // Breakdown into years, months, days
        let year = d2.getFullYear() - d1.getFullYear();
        let month = d2.getMonth() - d1.getMonth();
        let day = d2.getDate() - d1.getDate();

        if (day < 0) {
            month--;
            day += new Date(d2.getFullYear(), d2.getMonth(), 0).getDate();
        }
        if (month < 0) {
            year--;
            month += 12;
        }

        document.getElementById("output").innerHTML =
            `üìò <b>${year}</b> Years, <b>${month}</b> Months, <b>${day}</b> Days<br>
             üìÖ Total Days: <b>${totalDays}</b>`;
    }
</script>

</body>
</html>
